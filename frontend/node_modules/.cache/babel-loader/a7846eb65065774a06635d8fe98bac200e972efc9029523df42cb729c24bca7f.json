{"ast":null,"code":"import axios from \"axios\";\nexport async function getImageStyles() {\n  const res = await axios.get(\"/available_image_styles\");\n  return res.data.available_styles || [];\n}\nexport async function getTTSVoices() {\n  const res = await axios.get(\"/available_tts_voices\");\n  return res.data.voices || [];\n}\nexport async function submitScript({\n  script,\n  style,\n  voice,\n  subtitleFile,\n  coverImage,\n  overlay\n}) {\n  const formData = new FormData();\n  const blob = new Blob([script], {\n    type: \"text/plain\"\n  });\n  formData.append(\"file\", blob, \"script.txt\");\n  if (style) formData.append(\"style\", style);\n  if (voice) formData.append(\"voice\", voice);\n  if (subtitleFile) formData.append(\"subtitle_file\", subtitleFile);\n  if (coverImage) formData.append(\"cover_image\", coverImage);\n  if (overlay && overlay.image) {\n    formData.append(\"overlay\", JSON.stringify({\n      image: overlay.image.name,\n      start: overlay.start,\n      end: overlay.end,\n      position: overlay.position\n    }));\n    formData.append(\"overlay_image\", overlay.image);\n  }\n  const res = await axios.post(\"/generate_video_from_script_async\", formData);\n  return res.data.job_id;\n}\nexport async function getJobStatus(jobId) {\n  const res = await axios.get(`/result/${jobId}`);\n  return res.data;\n}","map":{"version":3,"names":["axios","getImageStyles","res","get","data","available_styles","getTTSVoices","voices","submitScript","script","style","voice","subtitleFile","coverImage","overlay","formData","FormData","blob","Blob","type","append","image","JSON","stringify","name","start","end","position","post","job_id","getJobStatus","jobId"],"sources":["/Users/wangkai/Documents/GitHub/video_agent/video_agent_full/frontend/src/api.js"],"sourcesContent":["import axios from \"axios\";\n\nexport async function getImageStyles() {\n  const res = await axios.get(\"/available_image_styles\");\n  return res.data.available_styles || [];\n}\n\nexport async function getTTSVoices() {\n  const res = await axios.get(\"/available_tts_voices\");\n  return res.data.voices || [];\n}\n\nexport async function submitScript({ script, style, voice, subtitleFile, coverImage, overlay }) {\n  const formData = new FormData();\n  const blob = new Blob([script], { type: \"text/plain\" });\n  formData.append(\"file\", blob, \"script.txt\");\n  if (style) formData.append(\"style\", style);\n  if (voice) formData.append(\"voice\", voice);\n  if (subtitleFile) formData.append(\"subtitle_file\", subtitleFile);\n  if (coverImage) formData.append(\"cover_image\", coverImage);\n  if (overlay && overlay.image) {\n    formData.append(\"overlay\", JSON.stringify({\n      image: overlay.image.name,\n      start: overlay.start,\n      end: overlay.end,\n      position: overlay.position\n    }));\n    formData.append(\"overlay_image\", overlay.image);\n  }\n  const res = await axios.post(\"/generate_video_from_script_async\", formData);\n  return res.data.job_id;\n}\n\nexport async function getJobStatus(jobId) {\n  const res = await axios.get(`/result/${jobId}`);\n  return res.data;\n} "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,eAAeC,cAAcA,CAAA,EAAG;EACrC,MAAMC,GAAG,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,yBAAyB,CAAC;EACtD,OAAOD,GAAG,CAACE,IAAI,CAACC,gBAAgB,IAAI,EAAE;AACxC;AAEA,OAAO,eAAeC,YAAYA,CAAA,EAAG;EACnC,MAAMJ,GAAG,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,uBAAuB,CAAC;EACpD,OAAOD,GAAG,CAACE,IAAI,CAACG,MAAM,IAAI,EAAE;AAC9B;AAEA,OAAO,eAAeC,YAAYA,CAAC;EAAEC,MAAM;EAAEC,KAAK;EAAEC,KAAK;EAAEC,YAAY;EAAEC,UAAU;EAAEC;AAAQ,CAAC,EAAE;EAC9F,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/B,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACT,MAAM,CAAC,EAAE;IAAEU,IAAI,EAAE;EAAa,CAAC,CAAC;EACvDJ,QAAQ,CAACK,MAAM,CAAC,MAAM,EAAEH,IAAI,EAAE,YAAY,CAAC;EAC3C,IAAIP,KAAK,EAAEK,QAAQ,CAACK,MAAM,CAAC,OAAO,EAAEV,KAAK,CAAC;EAC1C,IAAIC,KAAK,EAAEI,QAAQ,CAACK,MAAM,CAAC,OAAO,EAAET,KAAK,CAAC;EAC1C,IAAIC,YAAY,EAAEG,QAAQ,CAACK,MAAM,CAAC,eAAe,EAAER,YAAY,CAAC;EAChE,IAAIC,UAAU,EAAEE,QAAQ,CAACK,MAAM,CAAC,aAAa,EAAEP,UAAU,CAAC;EAC1D,IAAIC,OAAO,IAAIA,OAAO,CAACO,KAAK,EAAE;IAC5BN,QAAQ,CAACK,MAAM,CAAC,SAAS,EAAEE,IAAI,CAACC,SAAS,CAAC;MACxCF,KAAK,EAAEP,OAAO,CAACO,KAAK,CAACG,IAAI;MACzBC,KAAK,EAAEX,OAAO,CAACW,KAAK;MACpBC,GAAG,EAAEZ,OAAO,CAACY,GAAG;MAChBC,QAAQ,EAAEb,OAAO,CAACa;IACpB,CAAC,CAAC,CAAC;IACHZ,QAAQ,CAACK,MAAM,CAAC,eAAe,EAAEN,OAAO,CAACO,KAAK,CAAC;EACjD;EACA,MAAMnB,GAAG,GAAG,MAAMF,KAAK,CAAC4B,IAAI,CAAC,mCAAmC,EAAEb,QAAQ,CAAC;EAC3E,OAAOb,GAAG,CAACE,IAAI,CAACyB,MAAM;AACxB;AAEA,OAAO,eAAeC,YAAYA,CAACC,KAAK,EAAE;EACxC,MAAM7B,GAAG,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,WAAW4B,KAAK,EAAE,CAAC;EAC/C,OAAO7B,GAAG,CAACE,IAAI;AACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}