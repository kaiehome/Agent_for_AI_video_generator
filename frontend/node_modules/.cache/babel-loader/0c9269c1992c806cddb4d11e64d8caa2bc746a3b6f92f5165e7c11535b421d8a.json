{"ast":null,"code":"import axios from \"axios\";\nexport async function getImageStyles() {\n  const res = await axios.get(\"/available_image_styles\");\n  return res.data.available_styles || [];\n}\nexport async function getTTSVoices() {\n  const res = await axios.get(\"/available_tts_voices\");\n  return res.data.voices || [];\n}\nexport async function submitScript({\n  script,\n  style,\n  voice,\n  subtitleFile,\n  coverImage,\n  overlays\n}) {\n  const formData = new FormData();\n  const blob = new Blob([script], {\n    type: \"text/plain\"\n  });\n  formData.append(\"file\", blob, \"script.txt\");\n  if (style) formData.append(\"style\", style);\n  if (voice) formData.append(\"voice\", voice);\n  if (subtitleFile) formData.append(\"subtitle_file\", subtitleFile);\n  if (coverImage) formData.append(\"cover_image\", coverImage);\n  if (overlays && overlays.length > 0) {\n    overlays.forEach((o, i) => {\n      if (o.image) {\n        formData.append(`overlay_${i}_image`, o.image);\n        formData.append(`overlay_${i}_meta`, JSON.stringify({\n          start: o.start,\n          end: o.end,\n          position: o.position\n        }));\n      }\n    });\n    formData.append(\"overlay_count\", overlays.length);\n  }\n  const res = await axios.post(\"/generate_video_from_script_async\", formData);\n  return res.data.job_id;\n}\nexport async function getJobStatus(jobId) {\n  const res = await axios.get(`/result/${jobId}`);\n  return res.data;\n}","map":{"version":3,"names":["axios","getImageStyles","res","get","data","available_styles","getTTSVoices","voices","submitScript","script","style","voice","subtitleFile","coverImage","overlays","formData","FormData","blob","Blob","type","append","length","forEach","o","i","image","JSON","stringify","start","end","position","post","job_id","getJobStatus","jobId"],"sources":["/Users/wangkai/Documents/GitHub/video_agent/video_agent_full/frontend/src/api.js"],"sourcesContent":["import axios from \"axios\";\n\nexport async function getImageStyles() {\n  const res = await axios.get(\"/available_image_styles\");\n  return res.data.available_styles || [];\n}\n\nexport async function getTTSVoices() {\n  const res = await axios.get(\"/available_tts_voices\");\n  return res.data.voices || [];\n}\n\nexport async function submitScript({ script, style, voice, subtitleFile, coverImage, overlays }) {\n  const formData = new FormData();\n  const blob = new Blob([script], { type: \"text/plain\" });\n  formData.append(\"file\", blob, \"script.txt\");\n  if (style) formData.append(\"style\", style);\n  if (voice) formData.append(\"voice\", voice);\n  if (subtitleFile) formData.append(\"subtitle_file\", subtitleFile);\n  if (coverImage) formData.append(\"cover_image\", coverImage);\n  if (overlays && overlays.length > 0) {\n    overlays.forEach((o, i) => {\n      if (o.image) {\n        formData.append(`overlay_${i}_image`, o.image);\n        formData.append(`overlay_${i}_meta`, JSON.stringify({\n          start: o.start,\n          end: o.end,\n          position: o.position\n        }));\n      }\n    });\n    formData.append(\"overlay_count\", overlays.length);\n  }\n  const res = await axios.post(\"/generate_video_from_script_async\", formData);\n  return res.data.job_id;\n}\n\nexport async function getJobStatus(jobId) {\n  const res = await axios.get(`/result/${jobId}`);\n  return res.data;\n} "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,eAAeC,cAAcA,CAAA,EAAG;EACrC,MAAMC,GAAG,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,yBAAyB,CAAC;EACtD,OAAOD,GAAG,CAACE,IAAI,CAACC,gBAAgB,IAAI,EAAE;AACxC;AAEA,OAAO,eAAeC,YAAYA,CAAA,EAAG;EACnC,MAAMJ,GAAG,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,uBAAuB,CAAC;EACpD,OAAOD,GAAG,CAACE,IAAI,CAACG,MAAM,IAAI,EAAE;AAC9B;AAEA,OAAO,eAAeC,YAAYA,CAAC;EAAEC,MAAM;EAAEC,KAAK;EAAEC,KAAK;EAAEC,YAAY;EAAEC,UAAU;EAAEC;AAAS,CAAC,EAAE;EAC/F,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/B,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACT,MAAM,CAAC,EAAE;IAAEU,IAAI,EAAE;EAAa,CAAC,CAAC;EACvDJ,QAAQ,CAACK,MAAM,CAAC,MAAM,EAAEH,IAAI,EAAE,YAAY,CAAC;EAC3C,IAAIP,KAAK,EAAEK,QAAQ,CAACK,MAAM,CAAC,OAAO,EAAEV,KAAK,CAAC;EAC1C,IAAIC,KAAK,EAAEI,QAAQ,CAACK,MAAM,CAAC,OAAO,EAAET,KAAK,CAAC;EAC1C,IAAIC,YAAY,EAAEG,QAAQ,CAACK,MAAM,CAAC,eAAe,EAAER,YAAY,CAAC;EAChE,IAAIC,UAAU,EAAEE,QAAQ,CAACK,MAAM,CAAC,aAAa,EAAEP,UAAU,CAAC;EAC1D,IAAIC,QAAQ,IAAIA,QAAQ,CAACO,MAAM,GAAG,CAAC,EAAE;IACnCP,QAAQ,CAACQ,OAAO,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;MACzB,IAAID,CAAC,CAACE,KAAK,EAAE;QACXV,QAAQ,CAACK,MAAM,CAAC,WAAWI,CAAC,QAAQ,EAAED,CAAC,CAACE,KAAK,CAAC;QAC9CV,QAAQ,CAACK,MAAM,CAAC,WAAWI,CAAC,OAAO,EAAEE,IAAI,CAACC,SAAS,CAAC;UAClDC,KAAK,EAAEL,CAAC,CAACK,KAAK;UACdC,GAAG,EAAEN,CAAC,CAACM,GAAG;UACVC,QAAQ,EAAEP,CAAC,CAACO;QACd,CAAC,CAAC,CAAC;MACL;IACF,CAAC,CAAC;IACFf,QAAQ,CAACK,MAAM,CAAC,eAAe,EAAEN,QAAQ,CAACO,MAAM,CAAC;EACnD;EACA,MAAMnB,GAAG,GAAG,MAAMF,KAAK,CAAC+B,IAAI,CAAC,mCAAmC,EAAEhB,QAAQ,CAAC;EAC3E,OAAOb,GAAG,CAACE,IAAI,CAAC4B,MAAM;AACxB;AAEA,OAAO,eAAeC,YAAYA,CAACC,KAAK,EAAE;EACxC,MAAMhC,GAAG,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,WAAW+B,KAAK,EAAE,CAAC;EAC/C,OAAOhC,GAAG,CAACE,IAAI;AACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}