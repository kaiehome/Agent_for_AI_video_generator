{"ast":null,"code":"import axios from\"axios\";export async function getImageStyles(){const res=await axios.get(\"/available_image_styles\");return res.data.available_styles||[];}export async function getTTSVoices(){const res=await axios.get(\"/available_tts_voices\");return res.data.voices||[];}export async function submitScript(_ref){let{script,style,voice,subtitleFile,coverImage,overlays}=_ref;const formData=new FormData();const blob=new Blob([script],{type:\"text/plain\"});formData.append(\"file\",blob,\"script.txt\");if(style)formData.append(\"style\",style);if(voice)formData.append(\"voice\",voice);if(subtitleFile)formData.append(\"subtitle_file\",subtitleFile);if(coverImage)formData.append(\"cover_image\",coverImage);if(overlays&&overlays.length>0){overlays.forEach((o,i)=>{if(o.image){formData.append(\"overlay_\".concat(i,\"_image\"),o.image);formData.append(\"overlay_\".concat(i,\"_meta\"),JSON.stringify({start:o.start,end:o.end,position:o.position}));}});formData.append(\"overlay_count\",overlays.length);}const res=await axios.post(\"/generate_video_from_script_async\",formData);return res.data.job_id;}export async function getJobStatus(jobId){const res=await axios.get(\"/result/\".concat(jobId));return res.data;}","map":{"version":3,"names":["axios","getImageStyles","res","get","data","available_styles","getTTSVoices","voices","submitScript","_ref","script","style","voice","subtitleFile","coverImage","overlays","formData","FormData","blob","Blob","type","append","length","forEach","o","i","image","concat","JSON","stringify","start","end","position","post","job_id","getJobStatus","jobId"],"sources":["/Users/wangkai/Documents/GitHub/video_agent/video_agent_full/frontend/src/api.js"],"sourcesContent":["import axios from \"axios\";\n\nexport async function getImageStyles() {\n  const res = await axios.get(\"/available_image_styles\");\n  return res.data.available_styles || [];\n}\n\nexport async function getTTSVoices() {\n  const res = await axios.get(\"/available_tts_voices\");\n  return res.data.voices || [];\n}\n\nexport async function submitScript({ script, style, voice, subtitleFile, coverImage, overlays }) {\n  const formData = new FormData();\n  const blob = new Blob([script], { type: \"text/plain\" });\n  formData.append(\"file\", blob, \"script.txt\");\n  if (style) formData.append(\"style\", style);\n  if (voice) formData.append(\"voice\", voice);\n  if (subtitleFile) formData.append(\"subtitle_file\", subtitleFile);\n  if (coverImage) formData.append(\"cover_image\", coverImage);\n  if (overlays && overlays.length > 0) {\n    overlays.forEach((o, i) => {\n      if (o.image) {\n        formData.append(`overlay_${i}_image`, o.image);\n        formData.append(`overlay_${i}_meta`, JSON.stringify({\n          start: o.start,\n          end: o.end,\n          position: o.position\n        }));\n      }\n    });\n    formData.append(\"overlay_count\", overlays.length);\n  }\n  const res = await axios.post(\"/generate_video_from_script_async\", formData);\n  return res.data.job_id;\n}\n\nexport async function getJobStatus(jobId) {\n  const res = await axios.get(`/result/${jobId}`);\n  return res.data;\n} "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,MAAO,eAAe,CAAAC,cAAcA,CAAA,CAAG,CACrC,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAF,KAAK,CAACG,GAAG,CAAC,yBAAyB,CAAC,CACtD,MAAO,CAAAD,GAAG,CAACE,IAAI,CAACC,gBAAgB,EAAI,EAAE,CACxC,CAEA,MAAO,eAAe,CAAAC,YAAYA,CAAA,CAAG,CACnC,KAAM,CAAAJ,GAAG,CAAG,KAAM,CAAAF,KAAK,CAACG,GAAG,CAAC,uBAAuB,CAAC,CACpD,MAAO,CAAAD,GAAG,CAACE,IAAI,CAACG,MAAM,EAAI,EAAE,CAC9B,CAEA,MAAO,eAAe,CAAAC,YAAYA,CAAAC,IAAA,CAA+D,IAA9D,CAAEC,MAAM,CAAEC,KAAK,CAAEC,KAAK,CAAEC,YAAY,CAAEC,UAAU,CAAEC,QAAS,CAAC,CAAAN,IAAA,CAC7F,KAAM,CAAAO,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/B,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAACT,MAAM,CAAC,CAAE,CAAEU,IAAI,CAAE,YAAa,CAAC,CAAC,CACvDJ,QAAQ,CAACK,MAAM,CAAC,MAAM,CAAEH,IAAI,CAAE,YAAY,CAAC,CAC3C,GAAIP,KAAK,CAAEK,QAAQ,CAACK,MAAM,CAAC,OAAO,CAAEV,KAAK,CAAC,CAC1C,GAAIC,KAAK,CAAEI,QAAQ,CAACK,MAAM,CAAC,OAAO,CAAET,KAAK,CAAC,CAC1C,GAAIC,YAAY,CAAEG,QAAQ,CAACK,MAAM,CAAC,eAAe,CAAER,YAAY,CAAC,CAChE,GAAIC,UAAU,CAAEE,QAAQ,CAACK,MAAM,CAAC,aAAa,CAAEP,UAAU,CAAC,CAC1D,GAAIC,QAAQ,EAAIA,QAAQ,CAACO,MAAM,CAAG,CAAC,CAAE,CACnCP,QAAQ,CAACQ,OAAO,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CACzB,GAAID,CAAC,CAACE,KAAK,CAAE,CACXV,QAAQ,CAACK,MAAM,YAAAM,MAAA,CAAYF,CAAC,WAAUD,CAAC,CAACE,KAAK,CAAC,CAC9CV,QAAQ,CAACK,MAAM,YAAAM,MAAA,CAAYF,CAAC,UAASG,IAAI,CAACC,SAAS,CAAC,CAClDC,KAAK,CAAEN,CAAC,CAACM,KAAK,CACdC,GAAG,CAAEP,CAAC,CAACO,GAAG,CACVC,QAAQ,CAAER,CAAC,CAACQ,QACd,CAAC,CAAC,CAAC,CACL,CACF,CAAC,CAAC,CACFhB,QAAQ,CAACK,MAAM,CAAC,eAAe,CAAEN,QAAQ,CAACO,MAAM,CAAC,CACnD,CACA,KAAM,CAAApB,GAAG,CAAG,KAAM,CAAAF,KAAK,CAACiC,IAAI,CAAC,mCAAmC,CAAEjB,QAAQ,CAAC,CAC3E,MAAO,CAAAd,GAAG,CAACE,IAAI,CAAC8B,MAAM,CACxB,CAEA,MAAO,eAAe,CAAAC,YAAYA,CAACC,KAAK,CAAE,CACxC,KAAM,CAAAlC,GAAG,CAAG,KAAM,CAAAF,KAAK,CAACG,GAAG,YAAAwB,MAAA,CAAYS,KAAK,CAAE,CAAC,CAC/C,MAAO,CAAAlC,GAAG,CAACE,IAAI,CACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}